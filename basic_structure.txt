workflow-scheduler/
│
├── scheduler/                      # the Python virtual environment (ignore in Git)
│
├── app/
│   ├── main.py                     # FastAPI entry point
│   ├── models.py                   # Pydantic models (Job, Workflow, etc.)
│   ├── scheduler_core.py           # Branch-aware scheduler logic
│   ├── workers.py                  # Worker process (Redis RQ)
│   ├── instanseg_tasks.py          # Actual image segmentation code
│   ├── workflow_manager.py         # Create workflows, manage branches
│   │
│   ├── utils/
│   │     ├── tiles.py              # tile splitting + merging
│   │     ├── progress.py           # track job/workflow progress
│   │     ├── storage.py            # store output files/results
│   │
│   └── routers/
│         ├── workflow_routes.py    # endpoints: create workflow, get workflow
│         ├── job_routes.py         # endpoints: submit job, cancel, status
│         └── user_routes.py        # maybe: user info, active limits
│
├── static/                         # optional (frontend images/results)
│
├── frontend/                       
│   ├── index.html
│   ├── app.js
│   └── styles.css                  # TODO
│
├── tests/                          # optional testing
│   └── test_scheduler.py
│
├── docker-compose.yml              # API + Redis + worker containers
├── Dockerfile                      # container for FastAPI app
├── requirements.txt                # pip freeze > requirements.txt
├── README.md                       # setup + architecture explanation
└── .gitignore                      # ignore env + pycache + outputs
